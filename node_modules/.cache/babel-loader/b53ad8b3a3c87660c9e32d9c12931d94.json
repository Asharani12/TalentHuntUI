{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\fs8-c\\\\OneDrive\\\\Desktop\\\\Cloudegic\\\\projfrontend1\\\\src\\\\components\\\\Admin\\\\Candidate\\\\BulkUpload.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { Box, Button, Card, CardHeader, Divider, Grid, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { uploadCandidateDataRequest } from \"../../../services/Admin\";\nimport { PROJECT_PATHS } from \"../../../shared/constants\";\nimport DashboardPage from \"../../Page/DashboardPage\";\nimport snackbarAlert from \"../../SnackbarAlert\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  mainBox: {\n    maxWidth: 800,\n    margin: \"16px auto 0\"\n  },\n  button: {\n    margin: theme.spacing(1)\n  },\n  fileName: {\n    marginLeft: theme.spacing(2)\n  }\n}));\n\nconst BulkUpload = props => {\n  _s();\n\n  var _PROJECT_PATHS$Manage;\n\n  const classes = useStyles();\n  const manageCandidatePath = (_PROJECT_PATHS$Manage = PROJECT_PATHS.Manager.find(x => x.pagename === \"viewcandidates\")) === null || _PROJECT_PATHS$Manage === void 0 ? void 0 : _PROJECT_PATHS$Manage.path;\n  const [isSubmitting, setIsSubmitting] = useState();\n  const [file, setFile] = useState();\n  useEffect(() => {\n    if (isSubmitting) {\n      handleSubmit();\n    }\n  }, [isSubmitting]);\n\n  const handleFileChange = event => {\n    if (event.target.files && event.target.files.length > 0) {\n      setFile(event.target.files[0]);\n    }\n  };\n\n  const handleSubmit = async () => {\n    try {\n      if (file) {\n        const response = await uploadCandidateDataRequest(file);\n\n        if (response && response.status) {\n          snackbarAlert.success(\"File uploaded successfully.\");\n          props.history.push(manageCandidatePath);\n        } else {\n          snackbarAlert.error(\"Oops! Something Broke! Please try again.\");\n        }\n      } else {\n        snackbarAlert.error(\"File not found.\");\n      }\n    } catch (error) {\n      snackbarAlert.error(\"Oops! Something Broke!\");\n    }\n\n    setIsSubmitting(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(DashboardPage, {\n    title: \"Bulk Upload Candidates\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      className: classes.mainBox,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          title: \"Add Candidates\",\n          style: {\n            textAlign: \"center\"\n          },\n          titleTypographyProps: {\n            variant: \"h3\",\n            component: \"h3\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          p: 3,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              style: {\n                textAlign: \"center\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                component: \"label\",\n                children: [\"Upload Candidate Data\", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  accept: \".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\",\n                  onChange: handleFileChange,\n                  hidden: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                component: \"span\",\n                className: classes.fileName,\n                children: file ? file.name : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          justifyContent: \"center\",\n          p: 1,\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            color: \"primary\",\n            disabled: !file || isSubmitting,\n            size: \"large\",\n            type: \"submit\",\n            variant: \"contained\",\n            className: classes.button,\n            onClick: () => setIsSubmitting(true),\n            children: isSubmitting ? \"Please wait...\" : \"Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            color: \"secondary\",\n            size: \"large\",\n            variant: \"contained\",\n            className: classes.button,\n            href: manageCandidatePath,\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BulkUpload, \"Ma4ZVfEscOl1usRxhveiSNcIidA=\", false, function () {\n  return [useStyles];\n});\n\n_c = BulkUpload;\nexport default BulkUpload;\n\nvar _c;\n\n$RefreshReg$(_c, \"BulkUpload\");","map":{"version":3,"sources":["C:/Users/fs8-c/OneDrive/Desktop/Cloudegic/projfrontend1/src/components/Admin/Candidate/BulkUpload.tsx"],"names":["useState","useEffect","Box","Button","Card","CardHeader","Divider","Grid","Typography","makeStyles","uploadCandidateDataRequest","PROJECT_PATHS","DashboardPage","snackbarAlert","useStyles","theme","mainBox","maxWidth","margin","button","spacing","fileName","marginLeft","BulkUpload","props","classes","manageCandidatePath","Manager","find","x","pagename","path","isSubmitting","setIsSubmitting","file","setFile","handleSubmit","handleFileChange","event","target","files","length","response","status","success","history","push","error","textAlign","variant","component","name"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SACEC,GADF,EAEEC,MAFF,EAGEC,IAHF,EAIEC,UAJF,EAKEC,OALF,EAMEC,IANF,EAOEC,UAPF,QAQO,mBARP;AASA,SAASC,UAAT,QAAkC,0BAAlC;AACA,SAASC,0BAAT,QAA2C,yBAA3C;AACA,SAASC,aAAT,QAA8B,2BAA9B;AACA,OAAOC,aAAP,MAA0B,0BAA1B;AACA,OAAOC,aAAP,MAA0B,qBAA1B;;AAGA,MAAMC,SAAS,GAAGL,UAAU,CAAEM,KAAD,KAAmB;AAC9CC,EAAAA,OAAO,EAAE;AACPC,IAAAA,QAAQ,EAAE,GADH;AAEPC,IAAAA,MAAM,EAAE;AAFD,GADqC;AAK9CC,EAAAA,MAAM,EAAE;AACND,IAAAA,MAAM,EAAEH,KAAK,CAACK,OAAN,CAAc,CAAd;AADF,GALsC;AAQ9CC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,UAAU,EAAEP,KAAK,CAACK,OAAN,CAAc,CAAd;AADJ;AARoC,CAAnB,CAAD,CAA5B;;AAaA,MAAMG,UAAU,GAAIC,KAAD,IAAgB;AAAA;;AAAA;;AACjC,QAAMC,OAAO,GAAGX,SAAS,EAAzB;AACA,QAAMY,mBAAmB,4BAAGf,aAAa,CAACgB,OAAd,CAAsBC,IAAtB,CACzBC,CAAD,IAAOA,CAAC,CAACC,QAAF,KAAe,gBADI,CAAH,0DAAG,sBAEzBC,IAFH;AAIA,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCjC,QAAQ,EAAhD;AACA,QAAM,CAACkC,IAAD,EAAOC,OAAP,IAAkBnC,QAAQ,EAAhC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI+B,YAAJ,EAAkB;AAChBI,MAAAA,YAAY;AACb;AACF,GAJQ,EAIN,CAACJ,YAAD,CAJM,CAAT;;AAMA,QAAMK,gBAAgB,GAAIC,KAAD,IAAgB;AACvC,QAAIA,KAAK,CAACC,MAAN,CAAaC,KAAb,IAAsBF,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmBC,MAAnB,GAA4B,CAAtD,EAAyD;AACvDN,MAAAA,OAAO,CAACG,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAD,CAAP;AACD;AACF,GAJD;;AAMA,QAAMJ,YAAY,GAAG,YAAY;AAC/B,QAAI;AACF,UAAIF,IAAJ,EAAU;AACR,cAAMQ,QAAQ,GAAG,MAAMhC,0BAA0B,CAACwB,IAAD,CAAjD;;AACA,YAAIQ,QAAQ,IAAIA,QAAQ,CAACC,MAAzB,EAAiC;AAC/B9B,UAAAA,aAAa,CAAC+B,OAAd,CAAsB,6BAAtB;AACApB,UAAAA,KAAK,CAACqB,OAAN,CAAcC,IAAd,CAAmBpB,mBAAnB;AACD,SAHD,MAGO;AACLb,UAAAA,aAAa,CAACkC,KAAd,CAAoB,0CAApB;AACD;AACF,OARD,MAQO;AACLlC,QAAAA,aAAa,CAACkC,KAAd,CAAoB,iBAApB;AACD;AACF,KAZD,CAYE,OAAOA,KAAP,EAAc;AACdlC,MAAAA,aAAa,CAACkC,KAAd,CAAoB,wBAApB;AACD;;AACDd,IAAAA,eAAe,CAAC,KAAD,CAAf;AACD,GAjBD;;AAmBA,sBACE,QAAC,aAAD;AAAe,IAAA,KAAK,EAAC,wBAArB;AAAA,2BACE,QAAC,GAAD;AAAK,MAAA,SAAS,EAAER,OAAO,CAACT,OAAxB;AAAA,6BACE,QAAC,IAAD;AAAA,gCACE,QAAC,UAAD;AACE,UAAA,KAAK,EAAC,gBADR;AAEE,UAAA,KAAK,EAAE;AAAEgC,YAAAA,SAAS,EAAE;AAAb,WAFT;AAGE,UAAA,oBAAoB,EAAE;AAAEC,YAAAA,OAAO,EAAE,IAAX;AAAiBC,YAAAA,SAAS,EAAE;AAA5B;AAHxB;AAAA;AAAA;AAAA;AAAA,gBADF,eAME,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,gBANF,eAOE,QAAC,GAAD;AAAK,UAAA,CAAC,EAAE,CAAR;AAAA,iCACE,QAAC,IAAD;AAAM,YAAA,SAAS,MAAf;AAAgB,YAAA,OAAO,EAAE,CAAzB;AAAA,mCACE,QAAC,IAAD;AAAM,cAAA,IAAI,MAAV;AAAW,cAAA,EAAE,EAAE,EAAf;AAAmB,cAAA,KAAK,EAAE;AAAEF,gBAAAA,SAAS,EAAE;AAAb,eAA1B;AAAA,sCACE,QAAC,MAAD;AAAQ,gBAAA,OAAO,EAAC,WAAhB;AAA4B,gBAAA,SAAS,EAAC,OAAtC;AAAA,iEAEE;AACE,kBAAA,IAAI,EAAC,MADP;AAEE,kBAAA,MAAM,EAAC,mGAFT;AAGE,kBAAA,QAAQ,EAAEX,gBAHZ;AAIE,kBAAA,MAAM;AAJR;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAUE,QAAC,UAAD;AACE,gBAAA,OAAO,EAAC,WADV;AAEE,gBAAA,SAAS,EAAC,MAFZ;AAGE,gBAAA,SAAS,EAAEZ,OAAO,CAACJ,QAHrB;AAAA,0BAKGa,IAAI,GAAGA,IAAI,CAACiB,IAAR,GAAe;AALtB;AAAA;AAAA;AAAA;AAAA,sBAVF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAPF,eA6BE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,gBA7BF,eA8BE,QAAC,GAAD;AAAK,UAAA,OAAO,EAAC,MAAb;AAAoB,UAAA,cAAc,EAAC,QAAnC;AAA4C,UAAA,CAAC,EAAE,CAA/C;AAAA,kCACE,QAAC,MAAD;AACE,YAAA,KAAK,EAAC,SADR;AAEE,YAAA,QAAQ,EAAE,CAACjB,IAAD,IAASF,YAFrB;AAGE,YAAA,IAAI,EAAC,OAHP;AAIE,YAAA,IAAI,EAAC,QAJP;AAKE,YAAA,OAAO,EAAC,WALV;AAME,YAAA,SAAS,EAAEP,OAAO,CAACN,MANrB;AAOE,YAAA,OAAO,EAAE,MAAMc,eAAe,CAAC,IAAD,CAPhC;AAAA,sBASGD,YAAY,GAAG,gBAAH,GAAsB;AATrC;AAAA;AAAA;AAAA;AAAA,kBADF,eAYE,QAAC,MAAD;AACE,YAAA,KAAK,EAAC,WADR;AAEE,YAAA,IAAI,EAAC,OAFP;AAGE,YAAA,OAAO,EAAC,WAHV;AAIE,YAAA,SAAS,EAAEP,OAAO,CAACN,MAJrB;AAKE,YAAA,IAAI,EAAEO,mBALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAZF;AAAA;AAAA;AAAA;AAAA;AAAA,gBA9BF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA2DD,CAlGD;;GAAMH,U;UACYT,S;;;KADZS,U;AAoGN,eAAeA,UAAf","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardHeader,\r\n  Divider,\r\n  Grid,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport { uploadCandidateDataRequest } from \"../../../services/Admin\";\r\nimport { PROJECT_PATHS } from \"../../../shared/constants\";\r\nimport DashboardPage from \"../../Page/DashboardPage\";\r\nimport snackbarAlert from \"../../SnackbarAlert\";\r\nimport Spinner from \"../../Spinner\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  mainBox: {\r\n    maxWidth: 800,\r\n    margin: \"16px auto 0\",\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  fileName: {\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst BulkUpload = (props: any) => {\r\n  const classes = useStyles();\r\n  const manageCandidatePath = PROJECT_PATHS.Manager.find(\r\n    (x) => x.pagename === \"viewcandidates\"\r\n  )?.path as string;\r\n\r\n  const [isSubmitting, setIsSubmitting] = useState<boolean>();\r\n  const [file, setFile] = useState<File>();\r\n  useEffect(() => {\r\n    if (isSubmitting) {\r\n      handleSubmit();\r\n    }\r\n  }, [isSubmitting]);\r\n\r\n  const handleFileChange = (event: any) => {\r\n    if (event.target.files && event.target.files.length > 0) {\r\n      setFile(event.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      if (file) {\r\n        const response = await uploadCandidateDataRequest(file);\r\n        if (response && response.status) {\r\n          snackbarAlert.success(\"File uploaded successfully.\");\r\n          props.history.push(manageCandidatePath);\r\n        } else {\r\n          snackbarAlert.error(\"Oops! Something Broke! Please try again.\");\r\n        }\r\n      } else {\r\n        snackbarAlert.error(\"File not found.\");\r\n      }\r\n    } catch (error) {\r\n      snackbarAlert.error(\"Oops! Something Broke!\");\r\n    }\r\n    setIsSubmitting(false);\r\n  };\r\n\r\n  return (\r\n    <DashboardPage title=\"Bulk Upload Candidates\">\r\n      <Box className={classes.mainBox}>\r\n        <Card>\r\n          <CardHeader\r\n            title=\"Add Candidates\"\r\n            style={{ textAlign: \"center\" }}\r\n            titleTypographyProps={{ variant: \"h3\", component: \"h3\" }}\r\n          />\r\n          <Divider />\r\n          <Box p={3}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} style={{ textAlign: \"center\" }}>\r\n                <Button variant=\"contained\" component=\"label\">\r\n                  Upload Candidate Data\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"\r\n                    onChange={handleFileChange}\r\n                    hidden\r\n                  />\r\n                </Button>\r\n                <Typography\r\n                  variant=\"subtitle1\"\r\n                  component=\"span\"\r\n                  className={classes.fileName}\r\n                >\r\n                  {file ? file.name : null}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n          <Divider />\r\n          <Box display=\"flex\" justifyContent=\"center\" p={1}>\r\n            <Button\r\n              color=\"primary\"\r\n              disabled={!file || isSubmitting}\r\n              size=\"large\"\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              className={classes.button}\r\n              onClick={() => setIsSubmitting(true)}\r\n            >\r\n              {isSubmitting ? \"Please wait...\" : \"Upload\"}\r\n            </Button>\r\n            <Button\r\n              color=\"secondary\"\r\n              size=\"large\"\r\n              variant=\"contained\"\r\n              className={classes.button}\r\n              href={manageCandidatePath}\r\n            >\r\n              Back\r\n            </Button>\r\n          </Box>\r\n        </Card>\r\n      </Box>\r\n    </DashboardPage>\r\n  );\r\n};\r\n\r\nexport default BulkUpload;\r\n"]},"metadata":{},"sourceType":"module"}